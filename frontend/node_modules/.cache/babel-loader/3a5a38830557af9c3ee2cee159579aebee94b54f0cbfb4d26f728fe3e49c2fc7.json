{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportGenerationStep=_ref=>{let{websiteUrl,competitors,competitorDetails,report}=_ref;const[activeTab,setActiveTab]=useState('summary');// Function to format markdown content\nconst formatMarkdown=text=>{if(!text)return'';// Convert headings\nlet formatted=text.replace(/^# (.*$)/gm,'<h1>$1</h1>');formatted=formatted.replace(/^## (.*$)/gm,'<h2>$1</h2>');formatted=formatted.replace(/^### (.*$)/gm,'<h3>$1</h3>');// Convert bold\nformatted=formatted.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');// Convert paragraphs\nformatted=formatted.replace(/^\\s*$/gm,'</p><p>');// Convert lists\nformatted=formatted.replace(/^\\d\\. (.*$)/gm,'<li>$1</li>');// Add initial and closing paragraph tags\nformatted='<p>'+formatted+'</p>';// Fix any double paragraph tags\nformatted=formatted.replace(/<\\/p><p><\\/p><p>/g,'</p><p>');// Convert horizontal rules\nformatted=formatted.replace(/^---$/gm,'<hr>');return formatted;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Competitor Intelligence Report\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-tabs mb-4\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:`nav-link ${activeTab==='summary'?'active':''}`,onClick:()=>setActiveTab('summary'),children:\"Executive Summary\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:`nav-link ${activeTab==='details'?'active':''}`,onClick:()=>setActiveTab('details'),children:\"Detailed Analysis\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:`nav-link ${activeTab==='raw'?'active':''}`,onClick:()=>setActiveTab('raw'),children:\"Raw Data\"})})]}),activeTab==='summary'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Executive Summary\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Analysis of \",/*#__PURE__*/_jsx(\"strong\",{children:websiteUrl}),\" identified \",competitors.length,\" main competitors. After detailed analysis of \",Object.keys(competitorDetails).length,\" selected competitors, here are the key findings:\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Key Insights\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush mb-4\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Product Differentiation:\"}),\" Create unique selling points to stand out from competitors\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Social Media Presence:\"}),\" Enhance your social media strategy\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Market Positioning:\"}),\" Identify gaps in the market that competitors aren't addressing\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Download Full Report (PDF)\"})})]})]})}),activeTab==='details'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Detailed Competitor Analysis\"}),Object.keys(competitorDetails).map((competitorName,index)=>{const competitor=competitorDetails[competitorName];return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:competitor.companyName}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 fw-bold\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:competitor.products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 fw-bold\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:competitor.productDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 fw-bold\",children:\"Social Media\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"a\",{href:competitor.socialMediaURL,target:\"_blank\",rel:\"noreferrer\",children:competitor.socialMediaURL})})]})]})]},index);})]})}),activeTab==='raw'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Raw Report Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"report-text p-3 bg-light rounded\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:formatMarkdown(report)}})})]})})]});};export default ReportGenerationStep;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ReportGenerationStep","_ref","websiteUrl","competitors","competitorDetails","report","activeTab","setActiveTab","formatMarkdown","text","formatted","replace","children","className","onClick","length","Object","keys","map","competitorName","index","competitor","companyName","products","productDescription","href","socialMediaURL","target","rel","dangerouslySetInnerHTML","__html"],"sources":["/Users/thomasdowuona-hyde/Competitor-Intelligence-OpenAI-API/frontend/src/components/ReportGenerationStep.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ReportGenerationStep = ({ websiteUrl, competitors, competitorDetails, report }) => {\n  const [activeTab, setActiveTab] = useState('summary');\n  \n  // Function to format markdown content\n  const formatMarkdown = (text) => {\n    if (!text) return '';\n    \n    // Convert headings\n    let formatted = text.replace(/^# (.*$)/gm, '<h1>$1</h1>');\n    formatted = formatted.replace(/^## (.*$)/gm, '<h2>$1</h2>');\n    formatted = formatted.replace(/^### (.*$)/gm, '<h3>$1</h3>');\n    \n    // Convert bold\n    formatted = formatted.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n    \n    // Convert paragraphs\n    formatted = formatted.replace(/^\\s*$/gm, '</p><p>');\n    \n    // Convert lists\n    formatted = formatted.replace(/^\\d\\. (.*$)/gm, '<li>$1</li>');\n    \n    // Add initial and closing paragraph tags\n    formatted = '<p>' + formatted + '</p>';\n    \n    // Fix any double paragraph tags\n    formatted = formatted.replace(/<\\/p><p><\\/p><p>/g, '</p><p>');\n    \n    // Convert horizontal rules\n    formatted = formatted.replace(/^---$/gm, '<hr>');\n    \n    return formatted;\n  };\n\n  return (\n    <div>\n      <h2 className=\"mb-4\">Competitor Intelligence Report</h2>\n      \n      <ul className=\"nav nav-tabs mb-4\">\n        <li className=\"nav-item\">\n          <button\n            className={`nav-link ${activeTab === 'summary' ? 'active' : ''}`}\n            onClick={() => setActiveTab('summary')}\n          >\n            Executive Summary\n          </button>\n        </li>\n        <li className=\"nav-item\">\n          <button\n            className={`nav-link ${activeTab === 'details' ? 'active' : ''}`}\n            onClick={() => setActiveTab('details')}\n          >\n            Detailed Analysis\n          </button>\n        </li>\n        <li className=\"nav-item\">\n          <button\n            className={`nav-link ${activeTab === 'raw' ? 'active' : ''}`}\n            onClick={() => setActiveTab('raw')}\n          >\n            Raw Data\n          </button>\n        </li>\n      </ul>\n      \n      {activeTab === 'summary' && (\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <h3 className=\"card-title\">Executive Summary</h3>\n            <p className=\"card-text\">\n              Analysis of <strong>{websiteUrl}</strong> identified {competitors.length} main competitors.\n              After detailed analysis of {Object.keys(competitorDetails).length} selected competitors,\n              here are the key findings:\n            </p>\n            \n            <div className=\"report-section\">\n              <h4>Key Insights</h4>\n              <ul className=\"list-group list-group-flush mb-4\">\n                <li className=\"list-group-item\">\n                  <strong>Product Differentiation:</strong> Create unique selling points to stand out from competitors\n                </li>\n                <li className=\"list-group-item\">\n                  <strong>Social Media Presence:</strong> Enhance your social media strategy\n                </li>\n                <li className=\"list-group-item\">\n                  <strong>Market Positioning:</strong> Identify gaps in the market that competitors aren't addressing\n                </li>\n              </ul>\n              \n              <div className=\"d-grid\">\n                <button className=\"btn btn-primary\">\n                  Download Full Report (PDF)\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {activeTab === 'details' && (\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <h3 className=\"card-title\">Detailed Competitor Analysis</h3>\n            \n            {Object.keys(competitorDetails).map((competitorName, index) => {\n              const competitor = competitorDetails[competitorName];\n              return (\n                <div key={index} className=\"card mb-4\">\n                  <div className=\"card-header\">\n                    {competitor.companyName}\n                  </div>\n                  <div className=\"card-body\">\n                    <div className=\"row mb-3\">\n                      <div className=\"col-md-3 fw-bold\">Products</div>\n                      <div className=\"col-md-9\">{competitor.products}</div>\n                    </div>\n                    <div className=\"row mb-3\">\n                      <div className=\"col-md-3 fw-bold\">Description</div>\n                      <div className=\"col-md-9\">{competitor.productDescription}</div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-md-3 fw-bold\">Social Media</div>\n                      <div className=\"col-md-9\">\n                        <a href={competitor.socialMediaURL} target=\"_blank\" rel=\"noreferrer\">\n                          {competitor.socialMediaURL}\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n      \n      {activeTab === 'raw' && (\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <h3 className=\"card-title\">Raw Report Data</h3>\n            <div className=\"report-text p-3 bg-light rounded\">\n              <div dangerouslySetInnerHTML={{ __html: formatMarkdown(report) }} />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReportGenerationStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}